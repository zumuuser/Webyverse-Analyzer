<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Webyverse Phone Lookup Documentation</title>

  <link href="https://fonts.googleapis.com/css2?family=Sora:wght@400;600;800&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
  
  <style>
    /* Root colors and fonts - Enhanced theme system */
    :root {
      --container-light: #ffffff;
      --container-dark: #1e1e1e;
      --text-light: #212529;
      --text-dark: #e4e6eb;
      --accent: #007bff;
      --accent-secondary: #6f42c1;
      --success: #28a745;
      --warning: #ffc107;
      --danger: #dc3545;
      --info: #17a2b8;
      --card-light: #f8f9fa;
      --card-dark: #252525;
      --bg-dark: #1a1a1a;
      --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --gradient-success: linear-gradient(135deg, #28a745 0%, #20c997 100%);
      --gradient-danger: linear-gradient(135deg, #dc3545 0%, #fd7e14 100%);
      --gradient-info: linear-gradient(135deg, #17a2b8 0%, #6f42c1 100%);
    }

    /* Enhanced animated background - matching emaildocs.html exactly */
    body {
      background: linear-gradient(-45deg,
        #ffffff,
        #dfe9f3,
        #c0d3f2,
        #ffffff
      );
      background-size: 300% 300%;
      animation: bgMove 10s ease-in-out infinite;
      font-family: 'Sora', sans-serif;
      font-size: 18px;
      line-height: 1.7;
      margin: 0;
      padding: 0;
      min-height: 100vh;
    }
    
    .dark-theme {
      background: linear-gradient(-45deg,
        #1a1a1a, #202533, #2b2f3a, #1f1f1f);
      background-size: 300% 300%;
      animation: bgMove 10s ease-in-out infinite;
      color: var(--text-dark);
    }
    
    @keyframes bgMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Enhanced starfield effect for dark theme */
    .dark-theme::before {
      content: '';
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background-image: radial-gradient(white 0.6px, transparent 0.6px);
      background-size: 150px 150px;
      background-position: 0 0;
      opacity: 0.08;
      animation: twinkle 3s infinite ease-in-out alternate;
      pointer-events: none;
      z-index: 0;
      mask-image: linear-gradient(to bottom, transparent 0%, black 20%, black 80%, transparent 100%);
    }

    @keyframes twinkle {
      0% { opacity: 0.03; transform: translateY(0); }
      50% { opacity: 0.12; transform: translateY(-1px); }
      100% { opacity: 0.06; transform: translateY(0); }
    }

    #starfield {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 0;
      pointer-events: none;
      display: none;
    }
    .dark-theme #starfield {
      display: block;
    }

    /* MAIN LAYOUT CONTAINER - This creates the main content area */
    #app {
      max-width: 1200px; /* Increased for sidebar layout */
      margin: 30px auto;
      position: relative;
      z-index: 2;
    }

    /* MAIN CONTENT BOX - This is the main documentation container */
    .main-content-box {
      background: var(--container-light);
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 15px 50px rgba(0,0,0,0.1);
      transition: all 0.4s ease;
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255,255,255,0.2);
      margin-right: 340px; /* Make space for right sidebar */
    }
    .dark-theme .main-content-box {
      background: var(--container-dark);
      box-shadow: 0 20px 60px rgba(0,0,0,0.4);
      border: 1px solid rgba(255,255,255,0.1);
    }

    /* RIGHT SIDEBAR - Positioned absolutely on the right side */
    .right-sidebar {
      position: fixed;
      right: 30px; /* Moved slightly away from edge */
      top: 30px; /* SAME HEIGHT AS MAIN CONTENT BOX */
      width: 280px;
      background: var(--container-light); /* MATCHES main content */
      padding: 30px; /* MATCHES main content */
      border-radius: 20px; /* MATCHES main content */
      box-shadow: 0 15px 50px rgba(0,0,0,0.1); /* MATCHES main content */
      backdrop-filter: blur(20px); /* MATCHES main content */
      border: 1px solid rgba(255,255,255,0.2); /* MATCHES main content */
      max-height: calc(100vh - 90px); /* Increased bottom margin */
      bottom: 30px; /* ADD this line - ensures 30px from bottom */
      overflow-y: hidden;
      z-index: 9;
      transition: all 0.4s ease; /* MATCHES main content */
    }
    .sidebar-content {
      height: 100%;
      overflow-y: auto;
      padding-right: 10px; /* Space for scrollbar */
      margin-right: -10px; /* Negative margin to hide scrollbar from content */
    }
    .dark-theme .right-sidebar {
      background: var(--container-dark); /* MATCHES main content dark theme */
      box-shadow: 0 20px 60px rgba(0,0,0,0.4); /* MATCHES main content dark theme */
      border: 1px solid rgba(255,255,255,0.1); /* MATCHES main content dark theme */
    }

    .right-sidebar h3 {
      color: var(--accent);
      margin-top: 0;
      margin-bottom: 25px; /* More spacing */
      font-size: 1.4rem; /* Larger font */
      font-weight: 900; /* Bolder weight */
      border-bottom: 3px solid var(--accent); /* Thicker border */
      padding-bottom: 15px; /* More padding */
      position: relative;
      background: var(--gradient-primary); /* Gradient text */
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .right-sidebar h3::before {
      content: '';
      position: absolute;
      bottom: -3px;
      left: 0;
      width: 50px;
      height: 3px;
      background: var(--success); /* Accent line like main content */
      z-index: -1; 
    }
    /* ADD this new CSS for better quick links styling: */
    .quick-links-container {
      background: rgba(0,123,255,0.05); /* Subtle background */
      border-radius: 12px;
      padding: 20px;
      margin-top: 25px;
      border: 1px solid rgba(0,123,255,0.1);
    }
    /* Smooth scrollbar animation */
    .sidebar-content::-webkit-scrollbar-thumb {
      background: var(--gradient-primary);
      border-radius: 10px;
      transition: all 0.3s ease;
      opacity: 0.7;
    }

    .sidebar-content::-webkit-scrollbar-thumb:hover {
      opacity: 1;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      transform: scaleX(1.1);
    }

    .sidebar-content:hover::-webkit-scrollbar-thumb {
      opacity: 1;
    }

    .dark-theme .quick-links-container {
      background: rgba(0,123,255,0.1);
      border-color: rgba(0,123,255,0.2);
    }

    .quick-links-container h4 {
      margin-top: 0;
      margin-bottom: 15px;
      font-weight: 800;
      color: var(--accent);
    }

    .right-sidebar ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .right-sidebar li {
      margin-bottom: 8px;
    }
    /* Custom scrollbar styling to match the page design */
    .right-sidebar::-webkit-scrollbar {
      width: 8px;
    }

    .right-sidebar::-webkit-scrollbar-track {
      background: rgba(0,123,255,0.1);
      border-radius: 10px;
      margin: 10px 0; /* Adds space at top and bottom */
    }

    .right-sidebar::-webkit-scrollbar-thumb {
      background: var(--gradient-primary);
      border-radius: 10px;
      transition: all 0.3s ease;
    }

    .right-sidebar::-webkit-scrollbar-thumb:hover {
      background: var(--accent);
      transform: scaleX(1.2); /* Slight expansion on hover */
    }

    .dark-theme .right-sidebar::-webkit-scrollbar-track {
      background: rgba(255,255,255,0.1);
    }

    .dark-theme .right-sidebar::-webkit-scrollbar-thumb {
      background: var(--gradient-primary);
    }

    /* For Firefox */
    .right-sidebar {
      scrollbar-width: thin;
      scrollbar-color: var(--accent) rgba(0,123,255,0.1);
    }
    
    .right-sidebar a {
      color: var(--text-light);
      text-decoration: none;
      font-weight: 600;
      padding: 8px 12px;
      border-radius: 6px;
      display: block;
      transition: all 0.2s;
      font-size: 0.95rem;
    }

    .dark-theme .right-sidebar a {
      color: var(--text-dark);
    }

    .right-sidebar a:hover {
      background: var(--accent);
      color: white;
      transform: translateX(5px);
    }

    .right-sidebar .sub-nav {
      margin-left: 15px;
      margin-top: 5px;
    }

    .right-sidebar .sub-nav a {
      font-size: 0.85rem;
      padding: 5px 10px;
      color: #666;
    }

    .dark-theme .right-sidebar .sub-nav a {
      color: #aaa;
    }

    /* Search functionality */
    .search-container {
      margin-bottom: 25px;
    }

    .search-container input[type="text"] {
      width: 100%;
      padding: 16px 20px; /* Increased padding to match main content style */
      border: 3px solid #e9ecef; /* Thicker border to match form style */
      border-radius: 14px; /* Larger radius to match main content */
      font-size: 1rem; /* Larger font */
      font-family: 'Sora', sans-serif;
      transition: all 0.3s ease;
      box-sizing: border-box;
      background: rgba(255,255,255,0.9); /* Slight transparency */
      color: var(--text-light);
      font-weight: 500;
    }
    .dark-theme .search-container input[type="text"] {
      background: rgba(0,0,0,0.3); /* Matches main content dark theme */
      border-color: #444;
      color: var(--text-dark);
    }
    .search-container input[type="text"]:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 8px rgba(0,123,255,0.15); /* Larger glow effect */
      transform: translateY(-2px); /* Slight lift on focus */
    }

    /* ADD this new CSS rule: */
    #themeToggle:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0,123,255,0.3);
    }
    .search-container input[type="text"]:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
    }

    /* Enhanced navigation */
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 40px;
      border-bottom: 2px solid rgba(0,123,255,0.1);
      padding-bottom: 20px;
    }
    .dark-theme .navbar {
      border-color: rgba(0,123,255,0.2);
    }
    
    .nav-links {
      display: flex;
      gap: 25px;
    }
    .nav-links a {
      text-decoration: none;
      color: var(--text-light);
      font-weight: 700;
      font-size: 0.9rem;
      padding: 10px 16px;
      border-radius: 10px;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 6px;
      position: relative;
      overflow: hidden;
    }
    .dark-theme .nav-links a {
      color: var(--text-dark);
    }
    .nav-links a::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: var(--gradient-primary);
      transition: left 0.3s ease;
      z-index: -1;
    }
    .nav-links a:hover::before {
      left: 0;
    }
    .nav-links a:hover {
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0,123,255,0.3);
    }
    
    .logo {
      font-size: 1.9rem;
      font-weight: 900;
      background: var(--gradient-primary);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent
            display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
    }

    /* Floating theme toggle */
    .floating-toggle {
      position: fixed;
      top: 20px;
      right: 320px; /* Adjusted to not overlap with sidebar */
      background: var(--gradient-primary);
      color: white;
      padding: 16px 20px;
      font-size: 1.4rem;
      border-radius: 50px;
      border: none;
      cursor: pointer;
      box-shadow: 0 8px 32px rgba(0,123,255,0.3);
      z-index: 9999;
      transition: all 0.3s ease;
    }
    .floating-toggle:hover {
      transform: scale(1.1) rotate(10deg);
      box-shadow: 0 12px 40px rgba(0,123,255,0.4);
    }

    /* Enhanced hero section */
    .hero {
      text-align: center;
      margin-bottom: 45px;
      position: relative;
      padding: 45px 0;
    }
    .hero h1 {
      font-size: 3.2rem;
      font-weight: 900;
      margin-bottom: 20px;
      background: var(--gradient-primary);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      line-height: 1.1;
      position: relative;
    }
    .hero p {
      font-size: 1.2rem;
      max-width: 680px;
      margin: 0 auto 30px;
      color: var(--text-light);
      opacity: 0.8;
      line-height: 1.6;
    }
    .dark-theme .hero p {
      color: var(--text-dark);
    }

    .section-title {
      font-weight: 900;
      font-size: 1.9rem;
      background: var(--gradient-primary);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 25px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .alert {
      padding: 18px;
      border-radius: 8px;
      margin: 20px 0;
      border-left: 5px solid;
      position: relative;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }

    .alert-info {
      background: rgba(23, 162, 184, 0.1);
      border-left-color: var(--info);
      color: var(--info);
    }

    .alert-warning {
      background: rgba(255, 193, 7, 0.1);
      border-left-color: var(--warning);
      color: #856404;
    }

    .alert-danger {
      background: rgba(220, 53, 69, 0.1);
      border-left-color: var(--danger);
      color: var(--danger);
    }

    .table {
      width: 100%;
      border-collapse: collapse;
      margin: 25px 0;
      background: var(--container-light);
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }

    .dark-theme .table {
      background: var(--container-dark);
    }

    .table th,
    .table td {
      padding: 15px;
      text-align: left;
      border-bottom: 1px solid #eee;
    }

    .dark-theme .table th,
    .dark-theme .table td {
      border-bottom-color: #333;
    }

    .table th {
      background: var(--accent);
      color: white;
      font-weight: 800;
      font-size: 0.95rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .table tr:hover {
      background: rgba(0, 123, 255, 0.05);
    }

    .dark-theme .table tr:hover {
      background: rgba(0, 123, 255, 0.1);
    }

    .quick-tip {
      background: linear-gradient(135deg, rgba(0, 123, 255, 0.1), rgba(0, 123, 255, 0.05));
      border: 1px solid rgba(0, 123, 255, 0.2);
      border-radius: 8px;
      padding: 15px;
      margin: 15px 0;
      position: relative;
    }

    .quick-tip::before {
      content: '💡';
      font-size: 1.2rem;
      margin-right: 10px;
    }
    .sidebar-theme-toggle {
      background: var(--gradient-primary);
      color: white;
      border: none;
      padding: 16px;
      border-radius: 50%;
      font-size: 1.4rem;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(0,123,255,0.3);
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 15px auto;
      width: 50px;
      height: 50px;
      z-index: 10; /* Explicit stacking */
      position: relative; /* ← Establish stacking context */
    }
    .material-icons {
      font-size: 1.2rem;
      color: inherit; /* Inherits from button's color */
      z-index: 11; /* Above the button */
    }
    .sidebar-theme-toggle .material-icons {
      color: red !important;
      font-size: 24px !important;
      position: relative !important;
      z-index: 9999 !important;
    }
    .sidebar-theme-toggle:hover {
      transform: scale(1.1) rotate(10deg);
      box-shadow: 0 8px 25px rgba(0,123,255,0.4);
    }

    /* Keep your existing theme toggle JavaScript the same */

    /* Responsive design */
    @media (max-width: 1400px) {
      .right-sidebar {
        display: none;
      }
      
      .main-content-box {
        margin-right: 0;
      }
      
      .floating-toggle {
        right: 20px;
      }
    }

    @media (max-width: 768px) {
      .hero h1 {
        font-size: 2.2rem;
      }
      
      .nav-links {
        gap: 12px;
      }
      
      .nav-links a {
        padding: 6px 10px;
        font-size: 0.85rem;
      }
      
      #app {
        margin: 15px auto;
        padding: 0 15px;
      }
      
      .main-content-box {
        padding: 25px 15px;
      }
    }
    /* Modern Footer Styles */
.footer {
  background: var(--card-light);
  margin-top: 80px;
  padding: 60px 0 40px;
  border-radius: 20px 20px 0 0;
  border: 2px solid rgba(0,123,255,0.1);
  position: relative;
  overflow: hidden;
}
.dark-theme .footer {
  background: var(--card-dark);
  border-color: rgba(0,123,255,0.2);
}
.footer::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: var(--gradient-primary);
}

.footer-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 30px;
}

.footer-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 40px;
  margin-bottom: 40px;
}

.footer-section h3 {
  font-size: 1.3rem;
  font-weight: 800;
  background: var(--gradient-primary);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 20px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.footer-links {
  list-style: none;
  padding: 0;
  margin: 0;
}

.footer-links li {
  margin-bottom: 12px;
}

.footer-links a {
  color: var(--text-light);
  text-decoration: none;
  font-weight: 500;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 0;
}
.dark-theme .footer-links a {
  color: var(--text-dark);
}

.footer-links a:hover {
  color: var(--accent);
  transform: translateX(5px);
}

.footer-bottom {
  text-align: center;
  padding-top: 30px;
  border-top: 2px solid rgba(0,123,255,0.1);
  color: var(--text-light);
  font-weight: 500;
}
.dark-theme .footer-bottom {
  border-color: rgba(0,123,255,0.2);
  color: var(--text-dark);
}

.footer-logo {
  font-size: 1.8rem;
  font-weight: 900;
  background: var(--gradient-primary);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 15px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.footer-description {
  color: var(--text-light);
  opacity: 0.8;
  line-height: 1.6;
  margin-bottom: 20px;
}
.dark-theme .footer-description {
  color: var(--text-dark);
}

@media (max-width: 768px) {
  .footer-grid {
    grid-template-columns: 1fr;
    gap: 30px;
  }
  
  .footer-container {
    padding: 0 20px;
  }
  
  .footer {
    padding: 40px 0 30px;
  }
}

  </style>
</head>
<body>

  <canvas id="starfield"></canvas>

 <!-- FIND the right sidebar div and UPDATE its content: -->
<div class="right-sidebar">
  <!-- ADD this wrapper div: -->
  <div class="sidebar-content">
     <h3 style="display: flex; align-items: center; justify-content: space-between;">
      🔍 Search Documentation
      <button id="themeToggle" class="sidebar-theme-toggle" aria-label="Toggle dark/light theme" style="margin-left: 10px;">
        <span class="material-icons">dark_mode</span>
      </button>
    </h3>
    <div class="search-container">
      <input type="text" id="searchInput" placeholder="Search documentation..." />
    </div>
    <h3>📋 Quick Navigation</h3>
    <ul>
      <li><a href="#overview">🎯 Results Overview</a></li>
      <li><a href="#results-breakdown">📊 Results Breakdown</a></li>
      <li><a href="#confidence-score">⭐ Confidence Score</a>
        <ul class="sub-nav">
          <li><a href="#confidence-score">Score Ranges</a></li>
          <li><a href="#confidence-score">Calculation</a></li>
        </ul>
      </li>
      <li><a href="#common-issues">⚠️ Common Issues</a>
        <ul class="sub-nav">
          <li><a href="#common-issues">Invalid Numbers</a></li>
          <li><a href="#common-issues">Carrier Detection</a></li>
          <li><a href="#common-issues">Timezone Issues</a></li>
        </ul>
      </li>
      <li><a href="#technical-details">🔧 Technical Details</a>
        <ul class="sub-nav">
          <li><a href="#technical-details">Validation Methods</a></li>
          <li><a href="#technical-details">Response Times</a></li>
        </ul>
      </li>
      <li><a href="#best-practices">💡 Best Practices</a></li>
      <li><a href="#api-integration">📝 API Integration</a></li>
      <li><a href="#troubleshooting">🆘 Troubleshooting</a></li>
    </ul>
    
    <div id="searchResults" class="quick-links-container">
      <h4>🔗 Quick Links</h4>
      <div style="display: flex; flex-direction: column; gap: 12px;">
        <a href="#confidence-score" style="padding: 8px 12px; background: rgba(0,123,255,0.1); border-radius: 6px; text-decoration: none; color: var(--accent); font-size: 0.9rem; transition: all 0.2s;" 
           onmouseover="this.style.background='var(--accent)'; this.style.color='white';"
           onmouseout="this.style.background='rgba(0,123,255,0.1)'; this.style.color='var(--accent)';">
          📊 Confidence Score Guide
        </a>
        <a href="#common-issues" style="padding: 8px 12px; background: rgba(220,53,69,0.1); border-radius: 6px; text-decoration: none; color: var(--danger); font-size: 0.9rem; transition: all 0.2s;"
           onmouseover="this.style.background='var(--danger)'; this.style.color='white';"
           onmouseout="this.style.background='rgba(220,53,69,0.1)'; this.style.color='var(--danger)';">
          ⚠️ Common Issues
        </a>
        <a href="#best-practices" style="padding: 8px 12px; background: rgba(40,167,69,0.1); border-radius: 6px; text-decoration: none; color: var(--success); font-size: 0.9rem; transition: all 0.2s;"
           onmouseover="this.style.background='var(--success)'; this.style.color='white';"
           onmouseout="this.style.background='rgba(40,167,69,0.1)'; this.style.color='var(--success)';">
          💡 Best Practices
        </a>
        <a href="#troubleshooting" style="padding: 8px 12px; background: rgba(255,193,7,0.1); border-radius: 6px; text-decoration: none; color: var(--warning); font-size: 0.9rem; transition: all 0.2s;"
           onmouseover="this.style.background='var(--warning)'; this.style.color='white';"
           onmouseout="this.style.background='rgba(255,193,7,0.1)'; this.style.color='var(--warning)';">
          🆘 Troubleshooting
        </a>
      </div>
    </div>
  </div> <!-- End sidebar-content -->
</div> <!-- End right-sidebar -->

  <!-- MAIN APP CONTAINER -->
  <div id="app" role="main">
    <!-- MAIN CONTENT BOX -->
    <div class="main-content-box">
      <nav class="navbar" role="navigation" aria-label="Primary navigation">
        <a href="/" class="logo" aria-label="Go to homepage">
          <span class="material-icons" aria-hidden="true">phone</span> 
          Webyverse
        </a>
        <!-- REPLACE the existing nav-links div with this: -->
        <div class="nav-links">
          <a href="http://webyverse.net" target="_blank" rel="noopener" aria-label="Main domain analyzer">
            <span class="material-icons" aria-hidden="true">domain</span> Domain Analyzer
          </a>
          <a href="/phone-lookup" aria-label="Phone lookup page">
            <span class="material-icons" aria-hidden="true">phone</span> Phone Lookup
          </a>
          <a href="/phonehistory" aria-label="Phone lookup history">
            <span class="material-icons" aria-hidden="true">history</span> History
          </a>
        </div>
      </nav>

      <!-- Enhanced hero section with centered text -->
      <header class="hero" role="banner">
        <h1 id="heroTitle">📚 Phone Lookup Documentation</h1>
        <p>Understand the results and metrics provided by the Webyverse Phone Lookup Tool.</p>
      </header>

      <section id="overview" class="section">
        <h2 class="section-title">
          <span class="material-icons" aria-hidden="true">visibility</span>
          Results Overview
        </h2>
        <p>The Webyverse Phone Lookup Tool provides comprehensive analysis of phone numbers worldwide. Our system validates phone numbers, identifies carriers, determines geographic locations, checks timezones, and performs reverse lookups to provide you with detailed insights.</p>
        
        <div class="alert alert-info">
          <strong>📱 What We Analyze:</strong> Phone number format validation, carrier identification, geographic location, timezone information, social media account discovery, data breach checks, and reverse lookup capabilities.
        </div>
      </section>

      <section id="results-breakdown" class="section">
        <h2 class="section-title">
          <span class="material-icons" aria-hidden="true">analytics</span>
          Results Breakdown
        </h2>
        
        <h3>📊 Main Status Indicators</h3>
        <table class="table">
          <thead>
            <tr>
              <th>Status</th>
              <th>Meaning</th>
              <th>What It Tells You</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong style="color: var(--success);">✅ Valid</strong></td>
              <td>Phone number is correctly formatted and likely exists</td>
              <td>The number follows international standards and can potentially receive calls/SMS</td>
            </tr>
            <tr>
              <td><strong style="color: var(--danger);">❌ Invalid</strong></td>
              <td>Phone number is incorrectly formatted or does not exist</td>
              <td>The number has formatting issues or is not a valid phone number</td>
            </tr>
            <tr>
              <td><strong style="color: var(--info);">❓ Unknown</strong></td>
              <td>Unable to determine validity with certainty</td>
              <td>Limited data available or number from unsupported region</td>
            </tr>
          </tbody>
        </table>

        <h3>🔍 Detailed Information Fields</h3>
        <table class="table">
          <thead>
            <tr>
              <th>Field</th>
              <th>Description</th>
              <th>Example</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>International Format</strong></td>
              <td>Phone number in international format</td>
              <td>+1 555 123 4567</td>
            </tr>
            <tr>
              <td><strong>National Format</strong></td>
              <td>Phone number in national format</td>
              <td>(555) 123-4567</td>
            </tr>
            <tr>
              <td><strong>E164 Format</strong></td>
              <td>Standard international format without spaces</td>
              <td>+15551234567</td>
            </tr>
            <tr>
              <td><strong>Country</strong></td>
              <td>Country where the number is registered</td>
              <td>United States</td>
            </tr>
            <tr>
              <td><strong>Carrier</strong></td>
              <td>Mobile or landline service provider</td>
              <td>Verizon, AT&T, T-Mobile</td>
            </tr>
            <tr>
              <td><strong>Line Type</strong></td>
              <td>Type of phone line (Mobile/Landline)</td>
              <td>Mobile, Landline, VoIP</td>
            </tr>
            <tr>
              <td><strong>Timezone</strong></td>
              <td>Timezone of the phone number's location</td>
              <td>America/New_York (EST)</td>
            </tr>
          </tbody>
        </table>
      </section>

      <section id="confidence-score" class="section">
        <h2 class="section-title">
          <span class="material-icons" aria-hidden="true">star</span>
          Confidence Score
        </h2>
        
        <p>The confidence score (0-100) indicates how reliable our analysis is based on available data and validation checks.</p>
        
        <h3>📈 Score Ranges</h3>
        <table class="table">
          <thead>
            <tr>
              <th>Score Range</th>
              <th>Confidence Level</th>
              <th>Description</th>
              <th>Recommendation</th>
            </tr>
          </thead>
          <tbody>
            <tr style="background: rgba(40,167,69,0.1);">
              <td><strong>80-100</strong></td>
              <td><span style="color: var(--success);">High Confidence</span></td>
              <td>Comprehensive data available, all checks passed</td>
              <td>Safe to use for business purposes</td>
            </tr>
            <tr style="background: rgba(255,193,7,0.1);">
              <td><strong>60-79</strong></td>
              <td><span style="color: var(--warning);">Good Confidence</span></td>
              <td>Most data available, minor uncertainties</td>
              <td>Generally reliable, verify if critical</td>
            </tr>
            <tr style="background: rgba(255,193,7,0.1);">
              <td><strong>40-59</strong></td>
              <td><span style="color: var(--warning);">Moderate Confidence</span></td>
              <td>Some data gaps, mixed validation results</td>
              <td>Use with caution, additional verification recommended</td>
            </tr>
            <tr style="background: rgba(220,53,69,0.1);">
              <td><strong>0-39</strong></td>
              <td><span style="color: var(--danger);">Low Confidence</span></td>
              <td>Limited data, multiple validation failures</td>
              <td>High risk, avoid for important communications</td>
            </tr>
          </tbody>
        </table>

        <h3>🧮 How It's Calculated</h3>
        <p>The confidence score is calculated based on multiple factors:</p>
        <ul>
          <li><strong>Format Validation (30 points):</strong> Whether the number follows correct formatting standards</li>
          <li><strong>Carrier Detection (20 points):</strong> Successfully identifying the service provider</li>
          <li><strong>Geographic Data (15 points):</strong> Availability of location information</li>
          <li><strong>Timezone Information (10 points):</strong> Successful timezone identification</li>
          <li><strong>Social Media Presence (Variable):</strong> Finding associated social accounts</li>
          <li><strong>Data Consistency (Variable):</strong> How well different data sources agree</li>
        </ul>

        <div class="quick-tip">
          Higher scores indicate more comprehensive and reliable data. Use confidence scores to determine how much you can trust the lookup results for your specific use case.
        </div>
      </section>

      <section id="common-issues" class="section">
        <h2 class="section-title">
          <span class="material-icons" aria-hidden="true">warning</span>
          Common Issues & Solutions
        </h2>

        <h3>❌ Invalid Phone Numbers</h3>
        <div class="alert alert-danger">
          <strong>Issue:</strong> Phone number shows as invalid even though it appears correct.
        </div>
        <p><strong>Common Causes:</strong></p>
        <ul>
          <li>Missing or incorrect country code</li>
          <li>Extra digits or characters in the number</li>
          <li>Number format not recognized by our system</li>
          <li>Disconnected or deactivated number</li>
        </ul>
        <p><strong>Solutions:</strong></p>
        <ul>
          <li>Try adding the country code (e.g., +1 for US numbers)</li>
          <li>Remove any spaces, dashes, or parentheses</li>
          <li>Verify the number with the original source</li>
          <li>Check if the number is still active</li>
        </ul>

        <h3>📡 Carrier Detection Issues</h3>
        <div class="alert alert-warning">
          <strong>Issue:</strong> Carrier information shows as "Unknown" or incorrect.
        </div>
        <p><strong>Common Causes:</strong></p>
        <ul>
          <li>Number porting between carriers</li>
          <li>Virtual or VoIP numbers</li>
          <li>International numbers with limited data</li>
          <li>Recently activated numbers</li>
        </ul>
        <p><strong>Solutions:</strong></p>
        <ul>
          <li>Wait 24-48 hours and try again for new numbers</li>
          <li>Cross-reference with other lookup services</li>
          <li>Contact the number directly to verify carrier</li>
        </ul>

        <h3>🕐 Timezone Accuracy</h3>
        <div class="alert alert-info">
          <strong>Issue:</strong> Timezone information is missing or incorrect.
        </div>
        <p><strong>Common Causes:</strong></p>
        <ul>
          <li>Mobile numbers that have moved locations</li>
          <li>VoIP numbers without geographic ties</li>
          <li>Numbers from regions with multiple timezones</li>
        </ul>
        <p><strong>Solutions:</strong></p>
        <ul>
          <li>Use the country-level timezone as a fallback</li>
          <li>Verify timezone with the number owner</li>
          <li>Consider that mobile numbers may not reflect current location</li>
        </ul>

        <h3>🔍 Social Media & Reverse Lookup Limitations</h3>
        <div class="alert alert-warning">
          <strong>Issue:</strong> Limited or no social media accounts found.
        </div>
        <p><strong>Understanding Limitations:</strong></p>
        <ul>
          <li>Privacy settings may hide phone number associations</li>
          <li>Not all users link phone numbers to social accounts</li>
          <li>Some platforms restrict phone number searches</li>
          <li>Business vs. personal number differences</li>
        </ul>
      </section>

      <section id="technical-details" class="section">
        <h2 class="section-title">
          <span class="material-icons" aria-hidden="true">settings</span>
          Technical Details
        </h2>

        <h3>🔧 Validation Methods</h3>
        <p>Our phone lookup system uses multiple validation techniques:</p>
        
        <table class="table">
          <thead>
            <tr>
              <th>Method</th>
              <th>Description</th>
              <th>What It Checks</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Format Validation</strong></td>
              <td>Checks against international phone number standards</td>
              <td>Number length, country code validity, digit patterns</td>
            </tr>
            <tr>
              <td><strong>Carrier Lookup</strong></td>
              <td>Identifies the service provider</td>
              <td>Network operator, line type (mobile/landline)</td>
            </tr>
            <tr>
              <td><strong>Geographic Analysis</strong></td>
              <td>Determines location and timezone</td>
              <td>Country, region, timezone, area code mapping</td>
            </tr>
            <tr>
              <td><strong>Social Media Scan</strong></td>
              <td>Searches for associated social accounts</td>
              <td>WhatsApp, Telegram, Viber availability</td>
            </tr>
            <tr>
              <td><strong>Data Breach Check</strong></td>
              <td>Scans known data breach databases</td>
              <td>Previous exposure in security incidents</td>
            </tr>
          </tbody>
        </table>

        <h3>⏱️ Response Times</h3>
        <p>Typical analysis times for different components:</p>
        <ul>
          <li><strong>Format Validation:</strong> Instant (< 0.1 seconds)</li>
          <li><strong>Carrier Lookup:</strong> 1-3 seconds</li>
          <li><strong>Geographic Data:</strong> 1-2 seconds</li>
          <li><strong>Social Media Scan:</strong> 3-5 seconds</li>
          <li><strong>Reverse Lookup:</strong> 5-10 seconds</li>
          <li><strong>Total Analysis:</strong> Usually under 15 seconds</li>
        </ul>

        <div class="quick-tip">
          Analysis times may vary based on server load and the complexity of the phone number being analyzed. International numbers may take slightly longer due to additional verification steps.
        </div>
      </section>

      <section id="best-practices" class="section">
        <h2 class="section-title">
          <span class="material-icons" aria-hidden="true">lightbulb</span>
          Best Practices
        </h2>

        <h3>📝 Input Guidelines</h3>
        <ul>
          <li><strong>Always include country codes</strong> for international numbers (e.g., +1, +44, +91)</li>
          <li><strong>Remove formatting</strong> like spaces, dashes, or parentheses when possible</li>
          <li><strong>Use the most complete format</strong> available to you</li>
          <li><strong>Double-check for typos</strong> before submitting</li>
        </ul>

        <h3>🎯 Interpreting Results</h3>
        <ul>
          <li><strong>Consider confidence scores</strong> when making decisions</li>
          <li><strong>Cross-reference critical information</strong> with multiple sources</li>
          <li><strong>Understand limitations</strong> of automated lookups</li>
          <li><strong>Respect privacy</strong> and use information responsibly</li>
        </ul>

                <h3>🔒 Privacy & Ethics</h3>
        <ul>
          <li><strong>Use lookup data responsibly</strong> and in compliance with local laws</li>
          <li><strong>Respect privacy settings</strong> and don't attempt to circumvent them</li>
          <li><strong>Don't use for harassment</strong> or unwanted contact</li>
          <li><strong>Verify consent</strong> before using personal information</li>
          <li><strong>Follow GDPR, CCPA</strong> and other applicable privacy regulations</li>
        </ul>

        <h3>💼 Business Use Cases</h3>
        <ul>
          <li><strong>Customer Verification:</strong> Validate phone numbers during registration</li>
          <li><strong>Fraud Prevention:</strong> Check for suspicious or invalid numbers</li>
          <li><strong>Marketing Compliance:</strong> Ensure numbers are valid before campaigns</li>
          <li><strong>Customer Support:</strong> Understand caller location and timezone</li>
          <li><strong>Data Cleaning:</strong> Remove invalid numbers from databases</li>
        </ul>

        <div class="quick-tip">
          Always maintain a balance between gathering useful information and respecting user privacy. Use phone lookup data to enhance user experience, not to invade privacy.
        </div>
      </section>

      <section id="api-integration" class="section">
        <h2 class="section-title">
          <span class="material-icons" aria-hidden="true">code</span>
          API Integration
        </h2>

        <h3>🔗 Endpoint Information</h3>
        <p>For developers looking to integrate phone lookup functionality:</p>
        
        <table class="table">
          <thead>
            <tr>
              <th>Endpoint</th>
              <th>Method</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>/lookup-phone</code></td>
              <td>POST</td>
              <td>Main phone lookup endpoint</td>
            </tr>
            <tr>
              <td><code>/api/phone-history</code></td>
              <td>GET</td>
              <td>Retrieve lookup history</td>
            </tr>
            <tr>
              <td><code>/api/phone/&lt;phone&gt;</code></td>
              <td>GET</td>
              <td>Get specific lookup details</td>
            </tr>
            <tr>
              <td><code>/api/export-phone/&lt;phone&gt;</code></td>
              <td>GET</td>
              <td>Export lookup data as JSON</td>
            </tr>
          </tbody>
        </table>

        <h3>📤 Request Format</h3>
        <p>Send phone numbers via POST request:</p>
        <pre style="background: #f8f9fa; padding: 15px; border-radius: 8px; overflow-x: auto;">
POST /lookup-phone
Content-Type: application/x-www-form-urlencoded

phone=+1234567890
        </pre>

        <h3>📥 Response Format</h3>
        <p>Responses are returned in JSON format:</p>
        <pre style="background: #f8f9fa; padding: 15px; border-radius: 8px; overflow-x: auto; font-size: 0.9rem;">
{
  "phone_number": "+1234567890",
  "basic_info": {
    "is_valid": true,
    "country_name": "United States",
    "formatted_international": "+1 234 567 8900",
    "timezone": {
      "timezone_name": "America/New_York",
      "current_time": "2025-01-08 15:30:00"
    }
  },
  "carrier_info": {
    "name": "Verizon",
    "type": "Mobile"
  },
  "confidence_score": 85,
  "timestamp": "2025-01-08 20:30:00"
}
        </pre>

        <h3>⚠️ Rate Limiting</h3>
        <ul>
          <li><strong>Standard Rate:</strong> 100 requests per hour per IP</li>
          <li><strong>Burst Limit:</strong> 10 requests per minute</li>
          <li><strong>Error Response:</strong> HTTP 429 when limits exceeded</li>
        </ul>

        <div class="alert alert-warning">
          <strong>Note:</strong> API access may require authentication in production environments. Contact support for enterprise API access and higher rate limits.
        </div>
      </section>

      <section id="troubleshooting" class="section">
        <h2 class="section-title">
          <span class="material-icons" aria-hidden="true">help</span>
          Troubleshooting
        </h2>

        <h3>🚨 Common Error Messages</h3>
        <table class="table">
          <thead>
            <tr>
              <th>Error</th>
              <th>Cause</th>
              <th>Solution</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>Invalid phone number format</code></td>
              <td>Number doesn't match expected patterns</td>
              <td>Check formatting and include country code</td>
            </tr>
            <tr>
              <td><code>Lookup failed: timeout</code></td>
              <td>Request took too long to process</td>
              <td>Try again in a few minutes, check internet connection</td>
            </tr>
            <tr>
              <td><code>Rate limit exceeded</code></td>
              <td>Too many requests in short time</td>
              <td>Wait before making additional requests</td>
            </tr>
            <tr>
              <td><code>Service unavailable</code></td>
              <td>Temporary server issues</td>
              <td>Try again later, check service status</td>
            </tr>
          </tbody>
        </table>

        <h3>🔧 Debugging Steps</h3>
        <ol>
          <li><strong>Verify Phone Number Format:</strong>
            <ul>
              <li>Ensure country code is included</li>
              <li>Remove any special characters</li>
              <li>Check for correct number of digits</li>
            </ul>
          </li>
          <li><strong>Check Network Connection:</strong>
            <ul>
              <li>Ensure stable internet connection</li>
              <li>Try from different network if possible</li>
              <li>Check if firewall is blocking requests</li>
            </ul>
          </li>
          <li><strong>Review Request Format:</strong>
            <ul>
              <li>Verify POST data is correctly formatted</li>
              <li>Check Content-Type headers</li>
              <li>Ensure proper URL encoding</li>
            </ul>
          </li>
          <li><strong>Monitor Response Times:</strong>
            <ul>
              <li>Note if certain numbers take longer</li>
              <li>Check for patterns in failures</li>
              <li>Consider implementing retry logic</li>
            </ul>
          </li>
        </ol>

        <h3>📞 Getting Help</h3>
        <div class="alert alert-info">
          <strong>Need Additional Support?</strong><br>
          If you're experiencing persistent issues or need help with integration:
          <ul style="margin-top: 10px; margin-bottom: 0;">
            <li>Check our <a href="/phonehistory" style="color: var(--accent);">lookup history</a> for patterns</li>
            <li>Review the <a href="#best-practices" style="color: var(--accent);">best practices</a> section</li>
            <li>Contact our support team with specific error details</li>
            <li>Include phone number format and error messages in reports</li>
          </ul>
        </div>

        <h3>🔍 Performance Optimization</h3>
        <ul>
          <li><strong>Batch Processing:</strong> Group multiple lookups when possible</li>
          <li><strong>Caching:</strong> Store results for frequently checked numbers</li>
          <li><strong>Error Handling:</strong> Implement proper retry logic with exponential backoff</li>
          <li><strong>Validation:</strong> Pre-validate numbers client-side to reduce API calls</li>
        </ul>

        <div class="quick-tip">
          Most issues can be resolved by ensuring proper phone number formatting and including country codes. When in doubt, try the number in international format (+country code + number).
        </div>
      </section>

      <section class="section">
        <h2 class="section-title">
          <span class="material-icons" aria-hidden="true">rocket_launch</span>
          Ready to Get Started?
        </h2>
        <p>Now that you understand how phone lookup works, try it out with your own phone numbers!</p>
        
        <div style="text-align: center; margin: 30px 0;">
          <a href="/phone-lookup" style="
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: var(--gradient-primary);
            color: white;
            text-decoration: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,123,255,0.3);
          " onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 25px rgba(0,123,255,0.4)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(0,123,255,0.3)';">
            <span class="material-icons">phone</span>
            Start Phone Lookup
          </a>
        </div>
      </section>
    </div>
  </div>

<!-- Modern Footer Section -->
<footer class="footer">
  <div class="footer-container">
    <div class="footer-grid">
      <!-- Brand Section -->
      <div class="footer-section">
        <div class="footer-logo">
          <span class="material-icons">analytics</span>
          Webyverse
        </div>
        <p class="footer-description">
          Comprehensive web analysis tools for domains, emails, and phone numbers. 
          Get detailed insights and security analysis for better online presence.
        </p>
      </div>

      <!-- Tools Section -->
      <div class="footer-section">
        <h3>
          <span class="material-icons">build</span>
          Analysis Tools
        </h3>
        <ul class="footer-links">
          <li><a href="/"><span class="material-icons">domain</span>Domain Analyzer</a></li>
          <li><a href="/email-verify"><span class="material-icons">verified_user</span>Email Verification</a></li>
          <li><a href="/phone-lookup"><span class="material-icons">phone</span>Phone Lookup</a></li>
        </ul>
      </div>

      <!-- History & Reports -->
      <div class="footer-section">
        <h3>
          <span class="material-icons">history</span>
          History & Reports
        </h3>
        <ul class="footer-links">
          <li><a href="/history"><span class="material-icons">timeline</span>Domain History</a></li>
          <li><a href="/emailhistory"><span class="material-icons">email</span>Email History</a></li>
          <li><a href="/phonehistory"><span class="material-icons">phone_callback</span>Phone History</a></li>
        </ul>
      </div>

      <!-- Documentation -->
      <div class="footer-section">
        <h3>
          <span class="material-icons">menu_book</span>
          Documentation
        </h3>
        <ul class="footer-links">
          <li><a href="/documentation"><span class="material-icons">description</span>Domain Docs</a></li>
          <li><a href="/emaildocs"><span class="material-icons">mail_outline</span>Email Docs</a></li>
          <li><a href="/phonedocs"><span class="material-icons">phone_in_talk</span>Phone Docs</a></li>
        </ul>
      </div>

      <!-- Company Info -->
      <div class="footer-section">
        <h3>
          <span class="material-icons">business</span>
          Company
        </h3>
        <ul class="footer-links">
          <li><a href="/about"><span class="material-icons">info</span>About Us</a></li>
          <li><a href="/contact"><span class="material-icons">contact_mail</span>Contact</a></li>
        </ul>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p>&copy; 2025 Webyverse. All rights reserved. | Advanced Web Analysis Platform</p>
    </div>
  </div>
</footer>

<script>
  // Enhanced theme toggle with smooth transitions
  const body = document.body;
  const toggle = document.getElementById('themeToggle');

  function updateThemeToggle() {
    const isDark = body.classList.contains('dark-theme');
    const icon = toggle.querySelector('.material-icons');
    icon.textContent = isDark ? 'light_mode' : 'dark_mode';
    localStorage.setItem('darkMode', isDark);
  }

  toggle.addEventListener('click', () => {
    body.classList.toggle('dark-theme');
    updateThemeToggle();
    
    // Add smooth transition effect
    toggle.style.transform = 'scale(0.8) rotate(180deg)';
    setTimeout(() => {
      toggle.style.transform = 'scale(1) rotate(0deg)';
    }, 200);
  });

  // Initialize theme from localStorage
  if (localStorage.getItem('darkMode') === 'true') {
    body.classList.add('dark-theme');
  }
  updateThemeToggle();

  // Enhanced search functionality
  const searchInput = document.getElementById('searchInput');
  const searchResults = document.getElementById('searchResults');

  // Search data for phone lookup documentation
  const searchData = [
    { title: 'Confidence Score', section: 'confidence-score', keywords: ['confidence', 'score', 'reliability', 'trust', 'accuracy'] },
    { title: 'Phone Validation', section: 'results-breakdown', keywords: ['validation', 'format', 'valid', 'invalid', 'check'] },
    { title: 'Carrier Information', section: 'results-breakdown', keywords: ['carrier', 'provider', 'network', 'mobile', 'landline'] },
    { title: 'Timezone Data', section: 'results-breakdown', keywords: ['timezone', 'time', 'location', 'geographic'] },
    { title: 'Common Issues', section: 'common-issues', keywords: ['problems', 'issues', 'errors', 'troubleshoot', 'fix'] },
    { title: 'API Integration', section: 'api-integration', keywords: ['api', 'integration', 'endpoint', 'developer', 'code'] },
    { title: 'Best Practices', section: 'best-practices', keywords: ['best', 'practices', 'guidelines', 'recommendations'] },
    { title: 'Error Messages', section: 'troubleshooting', keywords: ['error', 'message', 'debug', 'fix', 'solution'] },
    { title: 'Rate Limiting', section: 'api-integration', keywords: ['rate', 'limit', 'throttle', 'quota', 'requests'] },
    { title: 'Privacy & Ethics', section: 'best-practices', keywords: ['privacy', 'ethics', 'gdpr', 'compliance', 'legal'] },
    { title: 'Social Media Lookup', section: 'results-breakdown', keywords: ['social', 'media', 'whatsapp', 'telegram', 'accounts'] },
    { title: 'Data Breach Check', section: 'results-breakdown', keywords: ['breach', 'security', 'exposed', 'leak', 'compromise'] },
    { title: 'International Numbers', section: 'common-issues', keywords: ['international', 'country', 'code', 'global', 'worldwide'] },
    { title: 'Response Format', section: 'api-integration', keywords: ['response', 'json', 'format', 'structure', 'data'] }
  ];

  searchInput.addEventListener('input', function() {
    const query = this.value.toLowerCase().trim();
    
    if (query.length < 2) {
      // Reset to quick links when search is cleared
      searchResults.innerHTML = `
        <h4>🔗 Quick Links</h4>
        <div style="display: flex; flex-direction: column; gap: 12px;">
          <a href="#confidence-score" style="padding: 8px 12px; background: rgba(0,123,255,0.1); border-radius: 6px; text-decoration: none; color: var(--accent); font-size: 0.9rem; transition: all 0.2s;" 
             onmouseover="this.style.background='var(--accent)'; this.style.color='white';"
             onmouseout="this.style.background='rgba(0,123,255,0.1)'; this.style.color='var(--accent)';">
            📊 Confidence Score Guide
          </a>
          <a href="#common-issues" style="padding: 8px 12px; background: rgba(220,53,69,0.1); border-radius: 6px; text-decoration: none; color: var(--danger); font-size: 0.9rem; transition: all 0.2s;"
             onmouseover="this.style.background='var(--danger)'; this.style.color='white';"
             onmouseout="this.style.background='rgba(220,53,69,0.1)'; this.style.color='var(--danger)';">
            ⚠️ Common Issues
          </a>
          <a href="#best-practices" style="padding: 8px 12px; background: rgba(40,167,69,0.1); border-radius: 6px; text-decoration: none; color: var(--success); font-size: 0.9rem; transition: all 0.2s;"
             onmouseover="this.style.background='var(--success)'; this.style.color='white';"
             onmouseout="this.style.background='rgba(40,167,69,0.1)'; this.style.color='var(--success)';">
            💡 Best Practices
          </a>
          <a href="#troubleshooting" style="padding: 8px 12px; background: rgba(255,193,7,0.1); border-radius: 6px; text-decoration: none; color: var(--warning); font-size: 0.9rem; transition: all 0.2s;"
             onmouseover="this.style.background='var(--warning)'; this.style.color='white';"
             onmouseout="this.style.background='rgba(255,193,7,0.1)'; this.style.color='var(--warning)';">
            🆘 Troubleshooting
          </a>
        </div>
      `;
      return;
    }

    // Search through the data
    const results = searchData.filter(item => 
      item.title.toLowerCase().includes(query) ||
      item.keywords.some(keyword => keyword.includes(query))
    );

    if (results.length > 0) {
      searchResults.innerHTML = `
        <h4>🔍 Search Results</h4>
        <div style="display: flex; flex-direction: column; gap: 8px;">
          ${results.map(result => `
            <a href="#${result.section}" style="
              padding: 8px 12px; 
              background: rgba(0,123,255,0.1); 
              border-radius: 6px; 
              text-decoration: none; 
              color: var(--accent); 
              font-size: 0.9rem; 
              transition: all 0.2s;
              border-left: 3px solid var(--accent);
            " onmouseover="this.style.background='var(--accent)'; this.style.color='white';"
               onmouseout="this.style.background='rgba(0,123,255,0.1)'; this.style.color='var(--accent)';">
              ${result.title}
            </a>
          `).join('')}
        </div>
      `;
    } else {
      searchResults.innerHTML = `
        <h4>🔍 No Results</h4>
        <p style="color: #666; font-size: 0.9rem; margin: 10px 0;">
          No matches found for "${query}". Try different keywords.
        </p>
      `;
    }
  });

  // Smooth scrolling for anchor links
  document.addEventListener('click', function(e) {
    if (e.target.tagName === 'A' && e.target.getAttribute('href').startsWith('#')) {
      e.preventDefault();
      const targetId = e.target.getAttribute('href').substring(1);
      const targetElement = document.getElementById(targetId);
      
      if (targetElement) {
        const headerOffset = 100; // Account for fixed header
        const elementPosition = targetElement.getBoundingClientRect().top;
        const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

        window.scrollTo({
          top: offsetPosition,
          behavior: 'smooth'
        });

        // Highlight the target section briefly
        targetElement.style.background = 'rgba(0,123,255,0.1)';
        targetElement.style.borderRadius = '8px';
        targetElement.style.padding = '10px';
        targetElement.style.transition = 'all 0.3s ease';
        
        setTimeout(() => {
          targetElement.style.background = '';
          targetElement.style.borderRadius = '';
          targetElement.style.padding = '';
        }, 2000);
      }
    }
  });

  // Initialize page with smooth animations
  document.addEventListener('DOMContentLoaded', function() {
    // Add smooth animations to sections
    const style = document.createElement('style');
    style.textContent = `
      .section { 
        animation: slideInUp 0.6s ease-out; 
      }
      .hero { 
        animation: slideInUp 0.4s ease-out; 
      }
      .navbar { 
        animation: slideInUp 0.2s ease-out; 
      }
      .right-sidebar {
        animation: slideInRight 0.6s ease-out;
      }
      @keyframes slideInUp {
        from { 
          opacity: 0; 
          transform: translateY(30px); 
        }
        to { 
          opacity: 1; 
          transform: translateY(0); 
        }
      }
      @keyframes slideInRight {
        from { 
          opacity: 0; 
          transform: translateX(30px); 
        }
        to { 
          opacity: 1; 
          transform: translateX(0); 
        }
      }
    `;
    document.head.appendChild(style);

    // Add copy functionality to code blocks
    const codeBlocks = document.querySelectorAll('pre');
    codeBlocks.forEach(block => {
      block.style.position = 'relative';
      
      const copyButton = document.createElement('button');
      copyButton.innerHTML = '📋 Copy';
      copyButton.style.cssText = `
        position: absolute;
        top: 10px;
        right: 10px;
        background: var(--accent);
        color: white;
        border: none;
        padding: 5px 10px;
        border-radius: 4px;
        font-size: 0.8rem;
        cursor: pointer;
        transition: all 0.2s ease;
      `;
      
      copyButton.addEventListener('click', () => {
        navigator.clipboard.writeText(block.textContent).then(() => {
          copyButton.innerHTML = '✅ Copied!';
          copyButton.style.background = 'var(--success)';
          setTimeout(() => {
            copyButton.innerHTML = '📋 Copy';
            copyButton.style.background = 'var(--accent)';
          }, 2000);
        });
      });
      
      block.appendChild(copyButton);
    });

    // Add table of contents highlighting
    const sections = document.querySelectorAll('.section[id]');
    const navLinks = document.querySelectorAll('.right-sidebar a[href^="#"]');

    function highlightCurrentSection() {
      let currentSection = '';
      
      sections.forEach(section => {
        const rect = section.getBoundingClientRect();
        if (rect.top <= 150 && rect.bottom >= 150) {
          currentSection = section.id;
        }
      });

      navLinks.forEach(link => {
        link.style.background = '';
        link.style.color = '';
        if (link.getAttribute('href') === `#${currentSection}`) {
          link.style.background = 'var(--accent)';
          link.style.color = 'white';
        }
      });
    }

    window.addEventListener('scroll', highlightCurrentSection);
    highlightCurrentSection(); // Initial call
  });

  // Add keyboard shortcuts for better UX
  document.addEventListener('keydown', function(e) {
    // Ctrl/Cmd + K to focus search
    if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
      e.preventDefault();
      searchInput.focus();
      searchInput.select();
    }
    
    // Escape to clear search
    if (e.key === 'Escape' && document.activeElement === searchInput) {
      searchInput.value = '';
      searchInput.dispatchEvent(new Event('input'));
      searchInput.blur();
    }
  });

  // Add scroll-to-top functionality
  const scrollToTopBtn = document.createElement('button');
  scrollToTopBtn.innerHTML = '↑';
  scrollToTopBtn.style.cssText = `
    position: fixed;
    bottom: 30px;
    left: 30px;
    background: var(--gradient-primary);
    color: white;
    border: none;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    font-size: 1.5rem;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(0,123,255,0.3);
    transition: all 0.3s ease;
    opacity: 0;
    visibility: hidden;
    z-index: 1000;
  `;

  scrollToTopBtn.addEventListener('click', () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });

  document.body.appendChild(scrollToTopBtn);

  window.addEventListener('scroll', () => {
    if (window.pageYOffset > 300) {
      scrollToTopBtn.style.opacity = '1';
      scrollToTopBtn.style.visibility = 'visible';
    } else {
      scrollToTopBtn.style.opacity = '0';
      scrollToTopBtn.style.visibility = 'hidden';
    }
  });

  scrollToTopBtn.addEventListener('mouseenter', () => {
    scrollToTopBtn.style.transform = 'scale(1.1)';
  });

  scrollToTopBtn.addEventListener('mouseleave', () => {
    scrollToTopBtn.style.transform = 'scale(1)';
  });
</script>

<!-- Enhanced Starfield Animation - EXACT copy from emaildocs.html -->
<script>
(function() {
  const canvas = document.getElementById("starfield");
  if (!canvas) return;
  
  const ctx = canvas.getContext("2d");
  let stars = [], w, h, animationId;
  let lastTime = 0;
  const targetFPS = 60;
  const frameTime = 1000 / targetFPS;

  function resize() {
    w = canvas.width = window.innerWidth;
    h = canvas.height = window.innerHeight;
    stars = [];
    
    for (let i = 0; i < 250; i++) {
      stars.push({
        x: Math.random() * w,
        y: Math.random() * h,
        r: Math.random() * 1.5 + 0.3,
        dx: 0.02 + Math.random() * 0.05,
        dy: (Math.random() - 0.5) * 0.03,
        opacity: Math.random() * 0.6 + 0.2,
        twinkle: Math.random() * 0.02 + 0.01,
        twinklePhase: Math.random() * Math.PI * 2
      });
    }
  }

  function draw(currentTime) {
    if (currentTime - lastTime < frameTime) {
      animationId = requestAnimationFrame(draw);
      return;
    }
    
    if (!ctx || !document.body.classList.contains('dark-theme')) {
      animationId = requestAnimationFrame(draw);
      return;
    }
    
    lastTime = currentTime;
    ctx.clearRect(0, 0, w, h);
    
    stars.forEach(s => {
      s.twinklePhase += s.twinkle;
      const twinkleOpacity = s.opacity + Math.sin(s.twinklePhase) * 0.3;
      
      ctx.beginPath();
      ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
      ctx.fillStyle = `rgba(255,255,255,${Math.max(0, Math.min(1, twinkleOpacity))})`;
      ctx.fill();

      s.x += s.dx;
      s.y += s.dy;

      if (s.x > w + s.r) s.x = -s.r;
      if (s.x < -s.r) s.x = w + s.r;
      if (s.y > h + s.r) s.y = -s.r;
      if (s.y < -s.r) s.y = h + s.r;
    });
    
    animationId = requestAnimationFrame(draw);
  }

  function startAnimation() {
    if (animationId) cancelAnimationFrame(animationId);
    animationId = requestAnimationFrame(draw);
  }

  function stopAnimation() {
    if (animationId) {
      cancelAnimationFrame(animationId);
      animationId = null;
    }
    if (ctx) ctx.clearRect(0, 0, w, h);
  }

  let resizeTimeout;
  window.addEventListener("resize", () => {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(resize, 250);
  });

  const observer = new MutationObserver((mutations) => {
    mutations.forEach((mutation) => {
      if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
        if (document.body.classList.contains('dark-theme')) {
          startAnimation();
        } else {
          stopAnimation();
        }
      }
    });
  });

  observer.observe(document.body, {
    attributes: true,
    attributeFilter: ['class']
  });

  document.addEventListener('visibilitychange', function() {
    if (document.hidden) {
      stopAnimation();
    } else if (document.body.classList.contains('dark-theme')) {
      startAnimation();
    }
  });

  resize();
  if (document.body.classList.contains('dark-theme')) {
    startAnimation();
  }
})();
</script>

</body>
</html>
